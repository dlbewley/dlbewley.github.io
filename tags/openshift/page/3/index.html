<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta name=viewport content="width=device-width,initial-scale=1"><title>Openshift | GUI Free Life</title><meta name=author content="Dale Bewley"><meta name=keywords content="bewley,guifreelife"><meta name=description content="GUI Free Life, by Dale Bewley covers Kubernetes, Linux, Networking, OpenShift and more"><meta name=generator content="Hugo 0.147.8"><link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel=stylesheet type=text/css><link rel=stylesheet href=//use.fontawesome.com/releases/v5.11.2/css/all.css><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link href=/css/animate.css rel=stylesheet><link href=/css/style.turquoise.css rel=stylesheet id=theme-stylesheet><link href=/css/custom.css rel=stylesheet><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel="shortcut icon" href=/img/favicon.ico type=image/x-icon><link rel=apple-touch-icon href=/img/apple-touch-icon.png><link href=/css/owl.carousel.css rel=stylesheet><link href=/css/owl.theme.css rel=stylesheet><link rel=alternate href=http://guifreelife.com/index.xml type=application/rss+xml title="GUI Free Life"><meta property="og:locale" content="en_us"><meta property="og:site_name" content="GUI Free Life"><meta property="og:title" content="Openshift"><meta property="og:type" content="website"><meta property="og:url" content="http://guifreelife.com/tags/openshift/"><meta property="og:description" content="GUI Free Life, by Dale Bewley covers Kubernetes, Linux, Networking, OpenShift and more"><meta property="og:image" content="http://guifreelife.com/img/sharing-default.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="179"><meta property="og:image:height" content="50"><meta property="og:updated_time" content="2025-10-06T00:00:00Z"><meta name=twitter:card content="summary"><meta name=twitter:title content="Openshift"><meta name=twitter:image content="http://guifreelife.com/img/sharing-default.png"><meta name=twitter:description content="GUI Free Life, by Dale Bewley covers Kubernetes, Linux, Networking, OpenShift and more"></head><body><div id=all><header class=navbar-affixed-top data-spy=affix data-offset-top=62><div class="navbar navbar-default yamm" role=navigation id=navbar><div class=container><div class=navbar-header><a class="navbar-brand home" href=/><img src=/img/logo.png alt="Openshift logo" class="hidden-xs hidden-sm">
<img src=/img/logo-small.png alt="Openshift logo" class="visible-xs visible-sm">
<span class=sr-only>Openshift - go to homepage</span></a><div class=navbar-buttons><button type=button class="navbar-toggle btn-template-main" data-toggle=collapse data-target=#navigation>
<span class=sr-only>Toggle Navigation</span>
<i class="fas fa-align-justify"></i></button></div></div><div class="navbar-collapse collapse" id=navigation><ul class="nav navbar-nav navbar-right"><li class=dropdown><a href=/>Home</a></li><li class="dropdown active"><a href=/blog/>Blog</a></li><li class=dropdown><a href=/contact/>Contact</a></li></ul></div><div class="collapse clearfix" id=search><form class=navbar-form role=search><div class=input-group><input type=text class=form-control placeholder=Search>
<span class=input-group-btn><button type=submit class="btn btn-template-main"><i class="fas fa-search"></i></button></span></div></form></div></div></div></header><div id=heading-breadcrumbs><div class=container><div class=row><div class=col-md-12><h1>Openshift</h1></div></div></div></div><div id=content><div class=container><div class=row><div class=col-md-9 id=blog-listing-medium><section class=post><div class=row><div class=col-md-4><div class=image><a href=http://guifreelife.com/blog/2021/03/09/Understanding-OpenShift-Over-The-Air-Updates/><img src=/images/the-face-of-a-computer-operator-from-the-2134th-communications-squadron-is-2ca9c9.jpg class=img-responsive alt></a></div></div><div class=col-md-8><h2><a href=http://guifreelife.com/blog/2021/03/09/Understanding-OpenShift-Over-The-Air-Updates/>How do OpenShift Over The Air Updates Work?</a></h2><div class=clearfix><p class=author-category></p><p class=date-comments><a href=http://guifreelife.com/blog/2021/03/09/Understanding-OpenShift-Over-The-Air-Updates/><i class="far fa-calendar"></i> March 9, 2021</a></p></div><p class=intro><p>OpenShift 4 extends the <a href=https://coreos.com/blog/introducing-operator-framework title="Introducing Operator Framework">operator pattern introduced by CoreOS</a>, and enables automated management of the Kubernetes cluster and the underlying resources including machine instances and operating system configuration. Operator driven over the air updates enable automated updates much like you are accustomed to receiving for your smart phone. What follows is a a technical exploration of the OpenShift over the air updates implementation.</p><h1 id=operators-all-the-way-down>Operators All the Way Down</h1><p><a href=https://nara.getarchive.net/media/the-face-of-a-computer-operator-from-the-2134th-communications-squadron-is-2ca9c9><img src=/images/the-face-of-a-computer-operator-from-the-2134th-communications-squadron-is-2ca9c9.jpg alt="Computer Operator"></a></p></p><p class=read-more><a href=http://guifreelife.com/blog/2021/03/09/Understanding-OpenShift-Over-The-Air-Updates/ class="btn btn-template-main">Continue reading</a></p></div></div></section><section class=post><div class=row><div class=col-md-4><div class=image><a href=http://guifreelife.com/blog/2020/02/15/OpenShift-4-on-OpenStack-Networking-and-Installation/><img src=/images/openshift-openstack-install-network-00.png class=img-responsive alt></a></div></div><div class=col-md-8><h2><a href=http://guifreelife.com/blog/2020/02/15/OpenShift-4-on-OpenStack-Networking-and-Installation/>OpenShift 4 on OpenStack Networking and Installation</a></h2><div class=clearfix><p class=author-category></p><p class=date-comments><a href=http://guifreelife.com/blog/2020/02/15/OpenShift-4-on-OpenStack-Networking-and-Installation/><i class="far fa-calendar"></i> February 15, 2020</a></p></div><p class=intro><p>OpenShift Containter Platform 4 is much more like Tectonic than OpenShift 3. Particularly when it comes to <a href=https://docs.openshift.com/container-platform/4.3/architecture/architecture-installation.html>installation</a> and node management. Rather then building machines and running <a href=https://github.com/openshift/openshift-ansible/tree/release-3.11>an Ansible playbook</a> to configure them you now have the option of setting a fewer paramters in an install config running an installer to build and configure the cluster from scratch.</p><p>I would like to illustrate how the basics of the networking might look when <a href=https://docs.openshift.com/container-platform/4.3/installing/installing_openstack/installing-openstack-installer-custom.html>installing OpenShift on OpenStack</a>. I also wanted an excuse to try out a new iPad sketch app. These notes are based on recent 4.4 nightly builds on OSP 13 Queens.</p></p><p class=read-more><a href=http://guifreelife.com/blog/2020/02/15/OpenShift-4-on-OpenStack-Networking-and-Installation/ class="btn btn-template-main">Continue reading</a></p></div></div></section><section class=post><div class=row><div class=col-md-4><div class=image><a href=http://guifreelife.com/blog/2019/05/09/Replace-Bootstrap-Kubeconfig/><img src=/img/banners/banner-5.jpg class=img-responsive alt></a></div></div><div class=col-md-8><h2><a href=http://guifreelife.com/blog/2019/05/09/Replace-Bootstrap-Kubeconfig/>Playbook to replace bootstrap.kubeconfig and node certificates on OpenShift 3.10 3.11</a></h2><div class=clearfix><p class=author-category></p><p class=date-comments><a href=http://guifreelife.com/blog/2019/05/09/Replace-Bootstrap-Kubeconfig/><i class="far fa-calendar"></i> May 9, 2019</a></p></div><p class=intro><p>If you are a serial upgrader like me, you may have found that at one point during your 3.10.xx patching (say 3.10.119) you hit this error during the data plane upgrade:</p><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plain data-lang=plain><span style=display:flex><span>TASK [openshift_node : Approve the node] ************************************************************
</span></span><span style=display:flex><span>task path: /usr/share/ansible/openshift-ansible/roles/openshift_node/tasks/upgrade/restart.yml:49
</span></span><span style=display:flex><span>Using module file /usr/share/ansible/openshift-ansible/roles/lib_openshift/library/oc_csr_approve.py
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>FAILED - RETRYING: Approve the node (30 retries left).Result was: {
</span></span><span style=display:flex><span>    &#34;all_subjects_found&#34;: [],
</span></span><span style=display:flex><span>    &#34;attempts&#34;: 1,
</span></span><span style=display:flex><span>    &#34;changed&#34;: false,
</span></span><span style=display:flex><span>    &#34;client_approve_results&#34;: [],
</span></span><span style=display:flex><span>    &#34;client_csrs&#34;: {},
</span></span><span style=display:flex><span>    &#34;failed&#34;: true,
</span></span><span style=display:flex><span>    &#34;invocation&#34;: {
</span></span><span style=display:flex><span>        &#34;module_args&#34;: {
</span></span><span style=display:flex><span>            &#34;node_list&#34;: [
</span></span><span style=display:flex><span>                &#34;ose-test-node-01.example.com&#34;
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            &#34;oc_bin&#34;: &#34;oc&#34;,
</span></span><span style=display:flex><span>            &#34;oc_conf&#34;: &#34;/etc/origin/master/admin.kubeconfig&#34;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    &#34;msg&#34;: &#34;Could not find csr for nodes: ose-test-node-01.example.com&#34;,
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p>Turns out this was because the start up of <code>atomic-openshift-node</code> failed to generate a CSR.</p></p><p class=read-more><a href=http://guifreelife.com/blog/2019/05/09/Replace-Bootstrap-Kubeconfig/ class="btn btn-template-main">Continue reading</a></p></div></div></section><section class=post><div class=row><div class=col-md-4><div class=image><a href=http://guifreelife.com/blog/2019/02/19/Downgrade-Etcd-for-OpenShift-Compatibility/><img src=/img/banners/banner-27.jpg class=img-responsive alt></a></div></div><div class=col-md-8><h2><a href=http://guifreelife.com/blog/2019/02/19/Downgrade-Etcd-for-OpenShift-Compatibility/>Downgrade Etcd 3.3.11 to 3.2.22 for OpenShift Compatibility</a></h2><div class=clearfix><p class=author-category></p><p class=date-comments><a href=http://guifreelife.com/blog/2019/02/19/Downgrade-Etcd-for-OpenShift-Compatibility/><i class="far fa-calendar"></i> February 19, 2019</a></p></div><p class=intro><p>While I was working on <a href=http://guifreelife.com/blog/2019/02/08/Migration-of-Etcd-to-Masters-for-OpenShift-3.9-Upgrade-to-3.10>migrating etcd to my master nodes</a> I was bitten by an incompatible etcd v3.3.11 RPM made available via RHEL Server Extras repo. Before I got to my last master the RPM was no longer available, and the scaleup playbook failed. I became aware that 3.3.11 <a href=https://access.redhat.com/articles/2176281>is not compatible</a> and <a href=https://access.redhat.com/solutions/3885101>should not have been made available</a>.</p><p>Unfortunately all members of my etcd cluster were already upgraded and the fix is to take down the cluster, downgrade etcd, and restore from snapshot. It would be great <a href="https://bugzilla.redhat.com/show_bug.cgi?id=1672518">if the etcd version was pinned</a> like Docker is.</p></p><p class=read-more><a href=http://guifreelife.com/blog/2019/02/19/Downgrade-Etcd-for-OpenShift-Compatibility/ class="btn btn-template-main">Continue reading</a></p></div></div></section><section class=post><div class=row><div class=col-md-4><div class=image><a href=http://guifreelife.com/blog/2019/02/08/Etcd-Shortcut-With-Peer-Auth/><img src=/img/banners/banner-40.jpg class=img-responsive alt></a></div></div><div class=col-md-8><h2><a href=http://guifreelife.com/blog/2019/02/08/Etcd-Shortcut-With-Peer-Auth/>Etcdctl v2 and v3 Aliases for Peer Authenticated Commands</a></h2><div class=clearfix><p class=author-category></p><p class=date-comments><a href=http://guifreelife.com/blog/2019/02/08/Etcd-Shortcut-With-Peer-Auth/><i class="far fa-calendar"></i> February 8, 2019</a></p></div><p class=intro><p>Getting all the arguments to <code>etcdctl</code> right can be a bit of a pain. Here are a couple of aliases which take advantage of the values in the <code>etcd.conf</code> file.</p><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#658b00>alias</span> <span style=color:#00688b>etcd2</span>=<span style=color:#cd5555>&#39;. /etc/etcd/etcd.conf &amp;&amp; \
</span></span></span><span style=display:flex><span><span style=color:#cd5555>    ETCDCTL_API=2 etcdctl \
</span></span></span><span style=display:flex><span><span style=color:#cd5555>    --cert-file ${ETCD_PEER_CERT_FILE} \
</span></span></span><span style=display:flex><span><span style=color:#cd5555>    --key-file ${ETCD_PEER_KEY_FILE} \
</span></span></span><span style=display:flex><span><span style=color:#cd5555>    --ca-file ${ETCD_PEER_TRUSTED_CA_FILE:-$ETCD_PEER_CA_FILE} \
</span></span></span><span style=display:flex><span><span style=color:#cd5555>    --endpoints &#34;${ETCD_ADVERTISE_CLIENT_URLS}&#34;&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#658b00>alias</span> <span style=color:#00688b>etcd3</span>=<span style=color:#cd5555>&#39;. /etc/etcd/etcd.conf &amp;&amp; \
</span></span></span><span style=display:flex><span><span style=color:#cd5555>    ETCDCTL_API=3 etcdctl \
</span></span></span><span style=display:flex><span><span style=color:#cd5555>    --cert ${ETCD_PEER_CERT_FILE} \
</span></span></span><span style=display:flex><span><span style=color:#cd5555>    --key ${ETCD_PEER_KEY_FILE} \
</span></span></span><span style=display:flex><span><span style=color:#cd5555>    --cacert ${ETCD_PEER_TRUSTED_CA_FILE:-$ETCD_PEER_CA_FILE} \
</span></span></span><span style=display:flex><span><span style=color:#cd5555>    --endpoints &#34;${ETCD_ADVERTISE_CLIENT_URLS}&#34;&#39;</span>
</span></span></code></pre></div><p>If you are using OpenShift, you may also find that you already have some bash functions <a href=https://github.com/openshift/openshift-ansible/blob/master/roles/etcd/tasks/drop_etcdctl.yml>enabled by the etcd role</a> in <code>/etc/profile.d/etcdctl.sh</code>. They will look different depending on your version. Below is from 3.9.</p></p><p class=read-more><a href=http://guifreelife.com/blog/2019/02/08/Etcd-Shortcut-With-Peer-Auth/ class="btn btn-template-main">Continue reading</a></p></div></div></section><section class=post><div class=row><div class=col-md-4><div class=image><a href=http://guifreelife.com/blog/2019/02/08/Migration-of-Etcd-to-Masters-for-OpenShift-3.9-Upgrade-to-3.10/><img src=/img/banners/banner-9.jpg class=img-responsive alt></a></div></div><div class=col-md-8><h2><a href=http://guifreelife.com/blog/2019/02/08/Migration-of-Etcd-to-Masters-for-OpenShift-3.9-Upgrade-to-3.10/>Migration of Etcd to Masters for OpenShift 3.9 to 3.10 Upgrade</a></h2><div class=clearfix><p class=author-category></p><p class=date-comments><a href=http://guifreelife.com/blog/2019/02/08/Migration-of-Etcd-to-Masters-for-OpenShift-3.9-Upgrade-to-3.10/><i class="far fa-calendar"></i> February 8, 2019</a></p></div><p class=intro><p>As of OpenShift Container Platform 3.10 etcd is expected to run in <a href=https://docs.openshift.com/container-platform/3.10/release_notes/ocp_3_10_release_notes.html#ocp-310-control-plane-changes>static pods</a> on the master nodes in the control plane. You may have a deployed an HA cluster with dedicated etcd nodes managed with systemd. How do you migrate the this new architecture?</p><p><strong>Assumptions:</strong></p><ul><li>You are running OCP 3.9</li><li>You have multiple Master nodes</li><li>You have dedicated Etcd nodes</li><li>You are running RHEL, not Atomic nodes</li></ul><p><strong>Outline:</strong></p><ul><li>Backup etcd</li><li>Scale up Etcd cluster to include Master nodes</li><li>Configure Openshift Masters to ignore the old Etcd nodes</li><li>Scale down etcd cluster to remove old Etcd nodes</li></ul><h1 id=detailed-steps>Detailed Steps</h1><p>Follow along in this document <a href=https://docs.openshift.com/container-platform/3.9/admin_guide/assembly_replace-etcd-member.html>https://docs.openshift.com/container-platform/3.9/admin_guide/assembly_replace-etcd-member.html</a>
You may find <a href=http://guifreelife.com/blog/2019/02/08/Etcd-Shortcut-With-Peer-Auth>some etcd aliases handy</a> before proceeding.</p></p><p class=read-more><a href=http://guifreelife.com/blog/2019/02/08/Migration-of-Etcd-to-Masters-for-OpenShift-3.9-Upgrade-to-3.10/ class="btn btn-template-main">Continue reading</a></p></div></div></section><section class=post><div class=row><div class=col-md-4><div class=image><a href=http://guifreelife.com/blog/2018/02/16/OpenShift-Router-LoadBalancing/><img src=/images/openshift-routing-garp-before.png class=img-responsive alt></a></div></div><div class=col-md-8><h2><a href=http://guifreelife.com/blog/2018/02/16/OpenShift-Router-LoadBalancing/>Load balancing of OpenShift HA Routers Mind the GARP</a></h2><div class=clearfix><p class=author-category></p><p class=date-comments><a href=http://guifreelife.com/blog/2018/02/16/OpenShift-Router-LoadBalancing/><i class="far fa-calendar"></i> February 16, 2018</a></p></div><p class=intro><p><a href=http://guifreelife.com/blog/2016/03/01/OpenShift-3-HA-Routing>OpenShift HA Routing</a> uses <a href=https://docs.openshift.com/container-platform/latest/architecture/networking/haproxy-router.html>haproxy application routers</a> to get traffic into the cluster. These application routers are made redundant by running <a href=https://docs.openshift.com/container-platform/latest/admin_guide/high_availability.html>ipfailover (keepalived)</a> pods to maintain a set of Virtual IPs on each infrastructure node where the application routers run. These VIPs are then referenced by round robin DNS records to enable a measure of load balancing.</p><p>OK, so now you are load balancing at the network layer, but what about the link layer?
Did you know that even <em>if</em> you somehow manage to perfectly balance traffic among the VIPs using RR DNS you could still be using only one of your application routers? Well you could be!</p></p><p class=read-more><a href=http://guifreelife.com/blog/2018/02/16/OpenShift-Router-LoadBalancing/ class="btn btn-template-main">Continue reading</a></p></div></div></section><section class=post><div class=row><div class=col-md-4><div class=image><a href=http://guifreelife.com/blog/2017/10/13/OpenShift-3.6-Upgrade-Metrics-Fails-Missing-heapster-certs-Secret/><img src=/img/banners/banner-7.jpg class=img-responsive alt></a></div></div><div class=col-md-8><h2><a href=http://guifreelife.com/blog/2017/10/13/OpenShift-3.6-Upgrade-Metrics-Fails-Missing-heapster-certs-Secret/>OpenShift 3.6 Upgrade Metrics Fails Missing heapster-certs Secret</a></h2><div class=clearfix><p class=author-category></p><p class=date-comments><a href=http://guifreelife.com/blog/2017/10/13/OpenShift-3.6-Upgrade-Metrics-Fails-Missing-heapster-certs-Secret/><i class="far fa-calendar"></i> October 13, 2017</a></p></div><p class=intro><p>After your upgrade to OpenShift v3.6 did the <a href=https://docs.openshift.com/container-platform/3.6/install_config/cluster_metrics.html>deployment of cluster metrics</a> wind up with empty graphs? Check if the heapster pod failed to start due to a missing secret called <code>heapster-certs</code> in the <code>openshift-infra</code> namespace.</p><h1 id=problem>Problem</h1><p><strong>Heapster pod is failing to start</strong></p><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ oc get pods
</span></span><span style=display:flex><span>NAME                         READY     STATUS              RESTARTS   AGE
</span></span><span style=display:flex><span>hawkular-cassandra-1-l1f3s   1/1       Running             <span style=color:#b452cd>0</span>          9m
</span></span><span style=display:flex><span>hawkular-metrics-rdl07       1/1       Running             <span style=color:#b452cd>0</span>          9m
</span></span><span style=display:flex><span>heapster-cfpcj               0/1       ContainerCreating   <span style=color:#b452cd>0</span>          3m
</span></span></code></pre></div><p><strong>Check what volumes it is attempting to mount</strong></p></p><p class=read-more><a href=http://guifreelife.com/blog/2017/10/13/OpenShift-3.6-Upgrade-Metrics-Fails-Missing-heapster-certs-Secret/ class="btn btn-template-main">Continue reading</a></p></div></div></section><section class=post><div class=row><div class=col-md-4><div class=image><a href=http://guifreelife.com/blog/2017/08/20/OpenShift-on-OpenStack/><img src=/images/thumb/openshift-ha-cluster-routing.png class=img-responsive alt></a></div></div><div class=col-md-8><h2><a href=http://guifreelife.com/blog/2017/08/20/OpenShift-on-OpenStack/>Installing OpenShift on OpenStack</a></h2><div class=clearfix><p class=author-category></p><p class=date-comments><a href=http://guifreelife.com/blog/2017/08/20/OpenShift-on-OpenStack/><i class="far fa-calendar"></i> August 20, 2017</a></p></div><p class=intro><p><strong>This is a work in progress</strong></p><p>The OpenShift Container Platform (OCP) can run on many types of infrastructure; from a Docker contrainer, to a single VM, to a fleet of baremetal or VMs on an infrastructure provider such as RHV, VMware, Amazon EC2, Google Compute Engine, or OpenStack Platform (OSP). This post is to document my experimentation with setting up OCP on OSP.</p><h1 id=doc-overview>Doc Overview</h1><p>So where are the docs?</p></p><p class=read-more><a href=http://guifreelife.com/blog/2017/08/20/OpenShift-on-OpenStack/ class="btn btn-template-main">Continue reading</a></p></div></div></section><section class=post><div class=row><div class=col-md-4><div class=image><a href=http://guifreelife.com/blog/2017/08/09/Pushing-To-OpenShift-Registry/><img src=/img/banners/banner-21.jpg class=img-responsive alt></a></div></div><div class=col-md-8><h2><a href=http://guifreelife.com/blog/2017/08/09/Pushing-To-OpenShift-Registry/>How to push an image to an unexposed OpenShift Docker registry</a></h2><div class=clearfix><p class=author-category></p><p class=date-comments><a href=http://guifreelife.com/blog/2017/08/09/Pushing-To-OpenShift-Registry/><i class="far fa-calendar"></i> August 9, 2017</a></p></div><p class=intro><p>How do I push an image to the OpenShift Docker registry if it is not exposed outside the cluster?</p><p><strong>Login to a member node</strong></p><p>Get on a machine that has docker and participates in the cluster SDN or can somehow access that network. (eg. <code>172.30.0.0/16</code>)</p><p><strong>Get the IP of the registry</strong></p><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>oc get svc docker-registry -n default --template <span style=color:#cd5555>&#34;{{ .spec.clusterIP }}&#34;</span>
</span></span><span style=display:flex><span><span style=color:#00688b>SVC_REGISTRY</span>=<span style=color:#8b008b;font-weight:700>$(</span>oc get svc docker-registry -n default --template <span style=color:#cd5555>&#34;{{ .spec.clusterIP }}&#34;</span><span style=color:#8b008b;font-weight:700>)</span>
</span></span></code></pre></div><p><strong>Get a token for your session</strong></p></p><p class=read-more><a href=http://guifreelife.com/blog/2017/08/09/Pushing-To-OpenShift-Registry/ class="btn btn-template-main">Continue reading</a></p></div></div></section><ul class=pager><li class=previous><a href=/tags/openshift/page/2/>&larr; Newer</a></li><li class=next><a href=/tags/openshift/page/4/>Older &rarr;</a></li></ul></div><div class=col-md-3><div class="panel panel-default sidebar-menu"><div class=panel-heading><h3 class=panel-title>Search</h3></div><div class=panel-body><form action=//google.com/search method=get accept-charset=UTF-8 role=search><div class=input-group><input type=search name=q class=form-control placeholder=Search>
<input type=hidden name=sitesearch value=http://guifreelife.com/>
<span class=input-group-btn><button type=submit class="btn btn-template-main"><i class="fas fa-search"></i></button></span></div></form></div></div><div class="panel sidebar-menu"><div class=panel-heading><h3 class=panel-title>Tags</h3></div><div class=panel-body><ul class=tag-cloud><li><a href=/tags/1password><i class="fas fa-tags"></i> 1password</a></li><li><a href=/tags/ansible><i class="fas fa-tags"></i> ansible</a></li><li><a href=/tags/automation><i class="fas fa-tags"></i> automation</a></li><li><a href=/tags/aws><i class="fas fa-tags"></i> aws</a></li><li><a href=/tags/azure><i class="fas fa-tags"></i> azure</a></li><li><a href=/tags/cdk><i class="fas fa-tags"></i> cdk</a></li><li><a href=/tags/coreos><i class="fas fa-tags"></i> coreos</a></li><li><a href=/tags/debugging><i class="fas fa-tags"></i> debugging</a></li><li><a href=/tags/docker><i class="fas fa-tags"></i> docker</a></li><li><a href=/tags/draft><i class="fas fa-tags"></i> draft</a></li><li><a href=/tags/etcd><i class="fas fa-tags"></i> etcd</a></li><li><a href=/tags/git><i class="fas fa-tags"></i> git</a></li><li><a href=/tags/haproxy><i class="fas fa-tags"></i> haproxy</a></li><li><a href=/tags/heat><i class="fas fa-tags"></i> heat</a></li><li><a href=/tags/hybrid-cloud><i class="fas fa-tags"></i> hybrid-cloud</a></li><li><a href=/tags/install><i class="fas fa-tags"></i> install</a></li><li><a href=/tags/kubeconfig><i class="fas fa-tags"></i> kubeconfig</a></li><li><a href=/tags/kubernetes><i class="fas fa-tags"></i> kubernetes</a></li><li><a href=/tags/kustomize><i class="fas fa-tags"></i> kustomize</a></li><li><a href=/tags/mac><i class="fas fa-tags"></i> mac</a></li><li><a href=/tags/metrics><i class="fas fa-tags"></i> metrics</a></li><li><a href=/tags/migration><i class="fas fa-tags"></i> migration</a></li><li><a href=/tags/monitoring><i class="fas fa-tags"></i> monitoring</a></li><li><a href=/tags/networking><i class="fas fa-tags"></i> networking</a></li><li><a href=/tags/ocp3><i class="fas fa-tags"></i> ocp3</a></li><li><a href=/tags/ocp4><i class="fas fa-tags"></i> ocp4</a></li><li class=active><a href=/tags/openshift><i class="fas fa-tags"></i> openshift</a></li><li><a href=/tags/openstack><i class="fas fa-tags"></i> openstack</a></li><li><a href=/tags/operators><i class="fas fa-tags"></i> operators</a></li><li><a href=/tags/prometheus><i class="fas fa-tags"></i> prometheus</a></li><li><a href=/tags/python><i class="fas fa-tags"></i> python</a></li><li><a href=/tags/rhacm><i class="fas fa-tags"></i> rhacm</a></li><li><a href=/tags/rhacs><i class="fas fa-tags"></i> rhacs</a></li><li><a href=/tags/rhel><i class="fas fa-tags"></i> rhel</a></li><li><a href=/tags/router><i class="fas fa-tags"></i> router</a></li><li><a href=/tags/security><i class="fas fa-tags"></i> security</a></li><li><a href=/tags/ssl><i class="fas fa-tags"></i> ssl</a></li><li><a href=/tags/stackrox><i class="fas fa-tags"></i> stackrox</a></li><li><a href=/tags/storage><i class="fas fa-tags"></i> storage</a></li><li><a href=/tags/troubleshooting><i class="fas fa-tags"></i> troubleshooting</a></li><li><a href=/tags/upgrade><i class="fas fa-tags"></i> upgrade</a></li><li><a href=/tags/vagrant><i class="fas fa-tags"></i> vagrant</a></li><li><a href=/tags/virtualization><i class="fas fa-tags"></i> virtualization</a></li><li><a href=/tags/webinar><i class="fas fa-tags"></i> webinar</a></li><li><a href=/tags/windows><i class="fas fa-tags"></i> windows</a></li><li><a href=/tags/zabbix><i class="fas fa-tags"></i> zabbix</a></li><li><a href=/tags/zimbra><i class="fas fa-tags"></i> zimbra</a></li></ul></div></div></div></div></div></div><footer id=footer><div class=container><div class="col-md-4 col-sm-6"><h4>Share</h4><i class="fab fa-2x fa-twitter" title="Share this on Twitter" onclick='window.open("http://twitter.com/home?status=http://guifreelife.com/tags/openshift/")'></i>
<i class="fab fa-2x fa-facebook" title="Share this on Facebook" onclick='window.open("http://www.facebook.com/share.php?u=http://guifreelife.com/tags/openshift/")'></i>
<i class="fab fa-2x fa-linkedin" title="Share this on Linkedin" onclick='window.open("https://www.linkedin.com/shareArticle?mini=true&url=http://guifreelife.com/tags/openshift/&title=&summary=&source=")'></i>
<i class="fab fa-2x fa-google-plus" title="Share this on Google Currents" onclick='window.open("https://plus.google.com/share?url=http://guifreelife.com/tags/openshift/")'></i>
<i class="fa fa-2x fa-envelope" title="Share this through Email" onclick='window.open("mailto:?&body=http://guifreelife.com/tags/openshift/")'></i><h4>About us</h4><p>GUI Free Life is the personal, technical blog of Dale Bewley. Comments and opinions are my own and not that of my employers.</p><hr class="hidden-md hidden-lg hidden-sm"></div><div class="col-md-4 col-sm-6"><h4>Recent posts</h4><div class=blog-entries><div class="item same-height-row clearfix"><div class="image same-height-always"><a href=http://guifreelife.com/blog/2025/10/06/Securing-Cloud-init-User-Data-with-External-Secrets-and-OpenShift-Virtualization/><img src=/images/blog-external-secrets.png class=img-responsive alt="Securing Cloud-init User Data with External Secrets and OpenShift Virtualization"></a></div><div class="name same-height-always"><h5><a href=http://guifreelife.com/blog/2025/10/06/Securing-Cloud-init-User-Data-with-External-Secrets-and-OpenShift-Virtualization/>Securing Cloud-init User Data with External Secrets and OpenShift Virtualization</a></h5></div></div><div class="item same-height-row clearfix"><div class="image same-height-always"><a href=http://guifreelife.com/blog/2025/06/20/CoreOS-Image-Layering-Autofs/><img src=/images/layering-cake-trans.png class=img-responsive alt="OpenShift CoreOS On-Cluster Custom Node Image Layering"></a></div><div class="name same-height-always"><h5><a href=http://guifreelife.com/blog/2025/06/20/CoreOS-Image-Layering-Autofs/>OpenShift CoreOS On-Cluster Custom Node Image Layering</a></h5></div></div><div class="item same-height-row clearfix"><div class="image same-height-always"><a href=http://guifreelife.com/blog/2025/05/29/Managing-OpenShift-Machine-Configuration-with-Butane-and-Ignition/><img src=/images/machineconfigs-butane.png class=img-responsive alt="Managing Readable OpenShift MachineConfigs with Butane"></a></div><div class="name same-height-always"><h5><a href=http://guifreelife.com/blog/2025/05/29/Managing-OpenShift-Machine-Configuration-with-Butane-and-Ignition/>Managing Readable OpenShift MachineConfigs with Butane</a></h5></div></div></div><hr class="hidden-md hidden-lg"></div><div class="col-md-4 col-sm-6"><h4>Contact</h4><p class=text-uppercase><strong>Dale Bewley</strong><br>Oakland<br>California<br><strong>USA</strong></p><a href=/contact class="btn btn-small btn-template-main">Go to contact page</a><hr class="hidden-md hidden-lg hidden-sm"></div></div></footer><div id=copyright><div class=container><div class=col-md-12><p class=pull-left>Copyright (c) 2021, Dale Bewley; all rights reserved.</p><p class=pull-right>Template by <a href=https://bootstrapious.com/p/universal-business-e-commerce-template>Bootstrapious</a>.
Ported to Hugo by <a href=https://github.com/devcows/hugo-universal-theme>DevCows</a>.</p></div></div></div></div><script async src="https://www.googletagmanager.com/gtag/js?id=G-39TSW9349X"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-39TSW9349X")}</script><script src=//code.jquery.com/jquery-3.1.1.min.js integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin=anonymous></script><script src=//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script><script src=//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js></script><script src="//maps.googleapis.com/maps/api/js?key=AIzaSyDacpwSIXi6lk2fS2wzZOSoh7iHm_ZP3UE&v=3.exp"></script><script src=/js/hpneo.gmaps.js></script><script src=/js/gmaps.init.js></script><script src=/js/front.js></script><script src=/js/owl.carousel.min.js></script></body></html>