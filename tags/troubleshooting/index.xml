<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Troubleshooting on GUI Free Life</title><link>http://guifreelife.com/tags/troubleshooting/</link><description>Recent content in Troubleshooting on GUI Free Life</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Tue, 19 Nov 2024 00:00:00 +0000</lastBuildDate><atom:link href="http://guifreelife.com/tags/troubleshooting/index.xml" rel="self" type="application/rss+xml"/><item><title>Open Virtual Networking Inspection with OpenShift</title><link>http://guifreelife.com/blog/2024/11/19/Open-Virtual-Network-Inspection-on-OpenShift/</link><pubDate>Tue, 19 Nov 2024 00:00:00 +0000</pubDate><guid>http://guifreelife.com/blog/2024/11/19/Open-Virtual-Network-Inspection-on-OpenShift/</guid><description>&lt;p>Accessing the details of the software defined networking features of OpenShift can be helpful for deeper troubleshooting or enhanced understanding. You&amp;rsquo;ll not find a full explanation of &lt;a href="https://www.ovn.org/en/" title="OpenVirtualNetwork">Open Virtual Network&lt;/a> or &lt;a href="https://ovn-kubernetes.io/" title="OVN-Kubernetes">OVN-Kubernetes&lt;/a> here, but you will learn how to quickly peer inside and investigate their inner workings.&lt;/p></description></item><item><title>Accessing the Ceph CLI with OpenShift Data Foundation</title><link>http://guifreelife.com/blog/2023/04/06/Accessing-Ceph-CLI-with-OpenShift-Data-Foundation/</link><pubDate>Thu, 06 Apr 2023 00:00:00 +0000</pubDate><guid>http://guifreelife.com/blog/2023/04/06/Accessing-Ceph-CLI-with-OpenShift-Data-Foundation/</guid><description>&lt;p>The Ceph Toolbox is not recommended or supported for use with OpenShift Data Foundation, but sometimes you want a client to troubleshoot with anyway.&lt;/p></description></item><item><title>Playbook to replace bootstrap.kubeconfig and node certificates on OpenShift 3.10 3.11</title><link>http://guifreelife.com/blog/2019/05/09/Replace-Bootstrap-Kubeconfig/</link><pubDate>Thu, 09 May 2019 00:00:00 +0000</pubDate><guid>http://guifreelife.com/blog/2019/05/09/Replace-Bootstrap-Kubeconfig/</guid><description>&lt;p>If you are a serial upgrader like me, you may have found that at one point during your 3.10.xx patching (say 3.10.119) you hit this error during the data plane upgrade:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-plain" data-lang="plain">&lt;span style="display:flex;">&lt;span>TASK [openshift_node : Approve the node] ************************************************************
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>task path: /usr/share/ansible/openshift-ansible/roles/openshift_node/tasks/upgrade/restart.yml:49
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Using module file /usr/share/ansible/openshift-ansible/roles/lib_openshift/library/oc_csr_approve.py
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>FAILED - RETRYING: Approve the node (30 retries left).Result was: {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;#34;all_subjects_found&amp;#34;: [],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;#34;attempts&amp;#34;: 1,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;#34;changed&amp;#34;: false,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;#34;client_approve_results&amp;#34;: [],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;#34;client_csrs&amp;#34;: {},
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;#34;failed&amp;#34;: true,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;#34;invocation&amp;#34;: {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;#34;module_args&amp;#34;: {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;#34;node_list&amp;#34;: [
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;#34;ose-test-node-01.example.com&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;#34;oc_bin&amp;#34;: &amp;#34;oc&amp;#34;,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;#34;oc_conf&amp;#34;: &amp;#34;/etc/origin/master/admin.kubeconfig&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> },
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;#34;msg&amp;#34;: &amp;#34;Could not find csr for nodes: ose-test-node-01.example.com&amp;#34;,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Turns out this was because the start up of &lt;code>atomic-openshift-node&lt;/code> failed to generate a CSR.&lt;/p></description></item><item><title>OpenShift 3.6 Upgrade Metrics Fails Missing heapster-certs Secret</title><link>http://guifreelife.com/blog/2017/10/13/OpenShift-3.6-Upgrade-Metrics-Fails-Missing-heapster-certs-Secret/</link><pubDate>Fri, 13 Oct 2017 00:00:00 +0000</pubDate><guid>http://guifreelife.com/blog/2017/10/13/OpenShift-3.6-Upgrade-Metrics-Fails-Missing-heapster-certs-Secret/</guid><description>&lt;p>After your upgrade to OpenShift v3.6 did the &lt;a href="https://docs.openshift.com/container-platform/3.6/install_config/cluster_metrics.html">deployment of cluster metrics&lt;/a> wind up with empty graphs? Check if the heapster pod failed to start due to a missing secret called &lt;code>heapster-certs&lt;/code> in the &lt;code>openshift-infra&lt;/code> namespace.&lt;/p>
&lt;h1 id="problem">Problem&lt;/h1>
&lt;p>&lt;strong>Heapster pod is failing to start&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ oc get pods
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>NAME READY STATUS RESTARTS AGE
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>hawkular-cassandra-1-l1f3s 1/1 Running &lt;span style="color:#b452cd">0&lt;/span> 9m
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>hawkular-metrics-rdl07 1/1 Running &lt;span style="color:#b452cd">0&lt;/span> 9m
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>heapster-cfpcj 0/1 ContainerCreating &lt;span style="color:#b452cd">0&lt;/span> 3m
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>Check what volumes it is attempting to mount&lt;/strong>&lt;/p></description></item><item><title>OpenShift Cluster Metrics and Cassandra Troubleshooting</title><link>http://guifreelife.com/blog/2016/11/14/OpenShift-Cluster-Metrics-and-Cassandra-Troubleshooting/</link><pubDate>Mon, 14 Nov 2016 00:00:00 +0000</pubDate><guid>http://guifreelife.com/blog/2016/11/14/OpenShift-Cluster-Metrics-and-Cassandra-Troubleshooting/</guid><description>&lt;p>OpenShift gathers &lt;a href="https://docs.openshift.com/container-platform/3.3/install_config/cluster_metrics.html">cluster metrics&lt;/a> such as CPU, memory, and network bandwidth per pod which can assist in troubleshooting and capacity planning. The metrics are also used to support &lt;a href="https://docs.openshift.com/container-platform/3.3/dev_guide/pod_autoscaling.html">horizontal pod autoscaling&lt;/a>, which makes the metrics service not just helpful, but critical to operation.&lt;/p>
&lt;h2 id="missing-liveness-probes">Missing Liveness Probes&lt;/h2>
&lt;p>There are 3 major components in the metrics collection process. &lt;a href="https://github.com/kubernetes/heapster">Heapster&lt;/a> gathers stats from Docker and feeds them to &lt;a href="https://github.com/hawkular/hawkular-metrics">Hawkular Metrics&lt;/a> to tuck away for safe keeping in &lt;a href="http://cassandra.apache.org/">Cassandra&lt;/a>.&lt;/p></description></item></channel></rss>