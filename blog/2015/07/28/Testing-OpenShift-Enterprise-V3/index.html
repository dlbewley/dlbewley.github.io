<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta name=viewport content="width=device-width,initial-scale=1"><title>Testing OpenShift Enterprise V3 | GUI Free Life</title><meta name=author content="Dale Bewley"><meta name=keywords content="bewley,guifreelife,openshift,OCP3,RHEL"><meta name=description content="GUI Free Life, by Dale Bewley covers Kubernetes, Linux, Networking, OpenShift and more"><meta name=generator content="Hugo 0.119.0"><link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel=stylesheet type=text/css><link rel=stylesheet href=//use.fontawesome.com/releases/v5.11.2/css/all.css><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link href=/css/animate.css rel=stylesheet><link href=/css/style.turquoise.css rel=stylesheet id=theme-stylesheet><link href=/css/custom.css rel=stylesheet><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel="shortcut icon" href=/img/favicon.ico type=image/x-icon><link rel=apple-touch-icon href=/img/apple-touch-icon.png><link href=/css/owl.carousel.css rel=stylesheet><link href=/css/owl.theme.css rel=stylesheet><link rel=alternate href=http://guifreelife.com/index.xml type=application/rss+xml title="GUI Free Life"><meta property="og:locale" content="en_us"><meta property="og:site_name" content="GUI Free Life"><meta property="og:title" content="Testing OpenShift Enterprise V3"><meta property="og:type" content="article"><meta property="og:url" content="http://guifreelife.com/blog/2015/07/28/Testing-OpenShift-Enterprise-V3/"><meta property="og:description" content="GUI Free Life, by Dale Bewley covers Kubernetes, Linux, Networking, OpenShift and more"><meta property="og:image" content="http://guifreelife.com/img/banners/banner-20.jpg"><meta property="og:image:type" content="image/jpg"><meta property="og:image:width" content="1000"><meta property="og:image:height" content="750"><meta property="og:updated_time" content="2015-07-28T00:00:00Z"><meta property="article:tag" content="openshift"><meta property="article:tag" content="OCP3"><meta property="article:tag" content="RHEL"><meta property="article:published_time" content="2015-07-28T00:00:00Z"><meta property="article:modified_time" content="2015-07-28T00:00:00Z"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@dlbewley"><meta name=twitter:title content="Testing OpenShift Enterprise V3"><meta name=twitter:image content="http://guifreelife.com/img/banners/banner-20.jpg"><meta name=twitter:description content="GUI Free Life, by Dale Bewley covers Kubernetes, Linux, Networking, OpenShift and more"></head><body><div id=all><header class=navbar-affixed-top data-spy=affix data-offset-top=62><div class="navbar navbar-default yamm" role=navigation id=navbar><div class=container><div class=navbar-header><a class="navbar-brand home" href=/><img src=/img/logo.png alt="Testing OpenShift Enterprise V3 logo" class="hidden-xs hidden-sm">
<img src=/img/logo-small.png alt="Testing OpenShift Enterprise V3 logo" class="visible-xs visible-sm">
<span class=sr-only>Testing OpenShift Enterprise V3 - go to homepage</span></a><div class=navbar-buttons><button type=button class="navbar-toggle btn-template-main" data-toggle=collapse data-target=#navigation>
<span class=sr-only>Toggle Navigation</span>
<i class="fas fa-align-justify"></i></button></div></div><div class="navbar-collapse collapse" id=navigation><ul class="nav navbar-nav navbar-right"><li class=dropdown><a href=/>Home</a></li><li class="dropdown active"><a href=/blog/>Blog</a></li><li class=dropdown><a href=/contact/>Contact</a></li></ul></div><div class="collapse clearfix" id=search><form class=navbar-form role=search><div class=input-group><input type=text class=form-control placeholder=Search>
<span class=input-group-btn><button type=submit class="btn btn-template-main"><i class="fas fa-search"></i></button></span></div></form></div></div></div></header><style>.bar.background-image-fixed-banner{background:url(/img/banners/banner-20.jpg)50% 0 no-repeat;background-attachment:fixed;background-size:cover;padding:100px 5%;text-shadow:2px 3px 4px var(--primary-accent),0 0 1em var(--navbar-border-top)}</style><div><div class=container><div class=row><div class=col-md-12><section class="bar background-image-fixed-banner heading h2 color-white text-center"><h1>Testing OpenShift Enterprise V3</h1></section></div></div></div></div><div id=content><div class=container><div class=row><div class=col-md-9 id=blog-post><p class="text-muted text-uppercase mb-small text-right">July 28, 2015</p><div id=post-content><p>So much for testing <a href=/blog/2015/06/28/Testing-Openshift-Origin-V3-with-Ansible-and-Vagrant-on-OS-X>OpenShift Origin with Vagrant on OS X</a>, because <a href=https://github.com/openshift/openshift-ansible/issues/391>it does not work yet</a>. Let&rsquo;s evaluate OpenShift Enterprise v3 on RHEL! First go get yourself an eval license. The OpenShift VMs will run RHEL7.1 and ride on top of <a href=https://access.redhat.com/products/red-hat-enterprise-virtualization/>RHEV</a>.</p><h1 id=documentation>Documentation</h1><p>First off, here are some starting points to get oriented and acquainted with OpenShift.</p><p><strong>Docs</strong></p><ul><li><a href=https://access.redhat.com/products/openshift-enterprise-red-hat/get-started>Getting Started</a></li><li><a href=https://access.redhat.com/documentation/en-US/OpenShift_Enterprise/>Docs</a></li><li><a href=http://docs.openshift.com/enterprise/latest/admin_guide/overview.html>Overview</a></li><li><a href=https://github.com/openshift/training>Training</a></li><li><a href=https://install.openshift.com/>Download</a></li><li><a href=https://docs.openshift.com/enterprise/3.1/admin_guide/install/prerequisites.html>Prerequisites</a></li><li><a href=https://access.redhat.com/articles/1755133>OpenShift Enterprise 3 Architecture Guide - planning, deployment and operation of an Open Source Platform as a Service</a></li><li><a href=https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Load_Balancer_Administration/ch-lvs-overview-VSA.html>Load Balancing</a></li></ul><p><strong>Videos</strong></p><ul><li><a href=https://www.youtube.com/channel/UCZKMj3YI0wP-kq4QYpaKdEA>OpenShift Channel on Youtube</a></li><li><a href="https://www.youtube.com/watch?t=67&amp;v=nqf9ZBqVIQM">OpenShift Commons Briefing #15: OpenShift 3 Beta 4 Training on Operations Workflow</a> provides a great walk through of install and basic overview of the compnents</li></ul><h1 id=installation>Installation</h1><h2 id=prereqs>Prereqs</h2><p>There are <a href=https://docs.openshift.com/enterprise/3.1/admin_guide/install/prerequisites.html>several prereqs</a> to meet before installation can begin. There are a few items to identify and used to create Ansible variables before installation.</p><p>Some Ansible variables we need to define:</p><ul><li><code>openshift_master_portal_net</code></li><li><code>osm_cluster_network_cidr</code></li><li><code>osm_default_subdomain</code></li></ul><h3 id=vms>VMs</h3><p>Four <a href=https://docs.openshift.com/enterprise/3.1/admin_guide/install/prerequisites.html#system-requirements>virtual machines</a> running Stock RHEL 7 with valid subscriptions:</p><p>These are higher than the min requirements, but it&rsquo;s what I&rsquo;m going to use.</p><table><thead><tr><th>VM</th><th>CPU</th><th>Mem</th><th>Disk(s)</th></tr></thead><tbody><tr><td>ose-master-01</td><td>2</td><td>16G</td><td>30G (20G <em>/mnt/registry</em>?), 50G <a href=https://docs.openshift.com/enterprise/3.1/admin_guide/install/prerequisites.html#configuring-docker-storage>second disk</a> for docker images</td></tr><tr><td>ose-node-01</td><td>2</td><td>16G</td><td>30G OS, 50G Docker</td></tr><tr><td>ose-node-02</td><td>2</td><td>16G</td><td>30G OS, 50G Docker</td></tr><tr><td>ose-node-03</td><td>2</td><td>16G</td><td>30G OS, 50G Docker</td></tr></tbody></table><h2 id=storage>Storage</h2><p>Docker on the node will use a <a href=http://unpoucode.blogspot.com.es/2015/06/docker-and-devicemappers-thinpool-in.html>thin provisioned</a> LVM volume group for ephemeral container filesystems under <code>/var/lib/docker</code>.</p><p>An NFS export to be mounted by nodes for creation of <a href=https://docs.openshift.com/enterprise/3.1/architecture/additional_concepts/storage.html>persistent volumes</a> and for persistent docker registry.</p><p><a href=https://docs.openshift.com/enterprise/3.1/install_config/persistent_storage/persistent_storage_nfs.html>Persistent storage using NFS</a> requires NFSv4 for SELinux. The <a href=https://github.com/openshift/openshift-ansible/tree/master/roles/kube_nfs_volumes>kube_nfs_volumes</a> role can automate the creation of <code>persistent volumes</code>.</p><h2 id=networks>Networks</h2><table><thead><tr><th>Network Name</th><th>Default</th><th>Ansible Variable</th><th>Description</th></tr></thead><tbody><tr><td><code>portal_net</code></td><td><em>172.30.0.0/16</em></td><td><code>openshift_master_portal_net</code></td><td>Home for Services / Load Balancers. This should be routable in your organization.</td></tr><tr><td><code>sdn_cluster_network_cidr</code></td><td><em>10.1.0.0/16</em></td><td><code>osm_cluster_network_cidr</code></td><td>Docker Network. One <code>/24</code> allocated per node by default. SDN manages this network with Open vSwitch and VxLAN.</td></tr></tbody></table><h2 id=dns>DNS</h2><p>Pick a wildcard subdomain domain and assumes.</p><table><thead><tr><th>Default</th><th>Ansible Variable</th><th>Description</th></tr></thead><tbody><tr><td><em>cloudapps.com</em></td><td><code>osm_default_subdomain</code></td><td>Subdomain to place application <a href=https://access.redhat.com/documentation/en/openshift-enterprise/version-3.1/openshift-enterprise-30-architecture/chapter-3-core-concepts#routes>routes</a> in</td></tr></tbody></table><p>Maybe pick multiple?
Perhaps we should use os.example.com as the &ldquo;TLD&rdquo; and use subdomain per env/cluster like this:</p><ul><li>*.dev.os.example.com. 300 IN A &lt;ip_of_openshift_router></li><li>*.test.os.example.com. 300 IN A &lt;ip_of_openshift_router></li><li>*.prod.os.example.com. 300 IN A &lt;ip_of_openshift_router></li></ul><h1 id=vm-installation>VM Installation</h1><h2 id=setup-rhel-subs>Setup RHEL Subs</h2><ul><li>On <em>all the hosts</em> Register VM with RedHat Subscription Manager</li></ul><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>subscription-manager register --username=rhel-username --password=&lt;password&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>subscription-manager list --available
</span></span></code></pre></div><ul><li>On <em>all the hosts</em> find the pool ID of the Red Hat OpenShift Enterprise license:</li></ul><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>[root@ose-master-01 ~]<span style=color:#228b22># subscription-manager list --available</span>
</span></span><span style=display:flex><span>+-------------------------------------------+
</span></span><span style=display:flex><span>    Available Subscriptions
</span></span><span style=display:flex><span>+-------------------------------------------+
</span></span><span style=display:flex><span>Subscription Name:   OpenShift Enterprise, Standard (1-2 Sockets)
</span></span><span style=display:flex><span>Provides:            Red Hat Beta
</span></span><span style=display:flex><span>                     Red Hat OpenShift Enterprise
</span></span><span style=display:flex><span>                     Red Hat OpenShift Enterprise Application Node
</span></span><span style=display:flex><span>                     Red Hat Software Collections (<span style=color:#8b008b;font-weight:700>for</span> RHEL Server)
</span></span><span style=display:flex><span>                     JBoss Enterprise Web Server
</span></span><span style=display:flex><span>                     Oracle Java (<span style=color:#8b008b;font-weight:700>for</span> RHEL Server)
</span></span><span style=display:flex><span>                     Red Hat OpenShift Enterprise Client Tools
</span></span><span style=display:flex><span>                     Red Hat Enterprise Linux Server
</span></span><span style=display:flex><span>                     Red Hat Software Collections Beta (<span style=color:#8b008b;font-weight:700>for</span> RHEL Server)
</span></span><span style=display:flex><span>                     Red Hat Enterprise Linux Atomic Host
</span></span><span style=display:flex><span>SKU:                 MCT2863
</span></span><span style=display:flex><span>Contract:            <span style=color:#b452cd>10000001</span>
</span></span><span style=display:flex><span>Pool ID:             8000000000000000000000000000000a
</span></span><span style=display:flex><span>Provides Management: No
</span></span><span style=display:flex><span>Available:           <span style=color:#b452cd>3</span>
</span></span><span style=display:flex><span>Suggested:           <span style=color:#b452cd>1</span>
</span></span><span style=display:flex><span>Service Level:       Standard
</span></span><span style=display:flex><span>Service Type:        L1-L3
</span></span><span style=display:flex><span>Subscription Type:   Stackable
</span></span><span style=display:flex><span>Ends:                11/29/2016
</span></span><span style=display:flex><span>System Type:         Physical
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Subscription Name:   OpenShift Enterprise Broker Infrastructure
</span></span><span style=display:flex><span>Provides:            Red Hat Beta
</span></span><span style=display:flex><span>                     Red Hat OpenShift Enterprise
</span></span><span style=display:flex><span>                     Red Hat Software Collections (<span style=color:#8b008b;font-weight:700>for</span> RHEL Server)
</span></span><span style=display:flex><span>                     Oracle Java (<span style=color:#8b008b;font-weight:700>for</span> RHEL Server)
</span></span><span style=display:flex><span>                     Red Hat OpenShift Enterprise Client Tools
</span></span><span style=display:flex><span>                     Red Hat Enterprise Linux Server
</span></span><span style=display:flex><span>                     Red Hat Software Collections Beta (<span style=color:#8b008b;font-weight:700>for</span> RHEL Server)
</span></span><span style=display:flex><span>                     Red Hat Enterprise Linux Atomic Host
</span></span><span style=display:flex><span>                     Red Hat OpenShift Enterprise Infrastructure
</span></span><span style=display:flex><span>SKU:                 MCT2741
</span></span><span style=display:flex><span>Contract:            <span style=color:#b452cd>10000001</span>
</span></span><span style=display:flex><span>Pool ID:             <span style=color:#b452cd>80000000000000000000000000000001</span>
</span></span><span style=display:flex><span>Provides Management: Yes
</span></span><span style=display:flex><span>Available:           <span style=color:#b452cd>2</span>
</span></span><span style=display:flex><span>Suggested:           <span style=color:#b452cd>1</span>
</span></span><span style=display:flex><span>Service Level:       Layered
</span></span><span style=display:flex><span>Service Type:        L1-L3
</span></span><span style=display:flex><span>Subscription Type:   Standard
</span></span><span style=display:flex><span>Ends:                11/29/2016
</span></span><span style=display:flex><span>System Type:         Physical
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><ul><li>On all the hosts, attach to that pool ID</li></ul><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>subscription-manager attach --pool=8a000000000000000000000000000000
</span></span></code></pre></div><ul><li>On <em>all 3 hosts</em>: Adjust subscriptions</li></ul><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>subscription-manager repos --disable=<span style=color:#cd5555>&#34;*&#34;</span>
</span></span><span style=display:flex><span>subscription-manager repos <span style=color:#cd5555>\
</span></span></span><span style=display:flex><span><span style=color:#cd5555></span>    --enable=<span style=color:#cd5555>&#34;rhel-7-server-rpms&#34;</span> <span style=color:#cd5555>\
</span></span></span><span style=display:flex><span><span style=color:#cd5555></span>    --enable=<span style=color:#cd5555>&#34;rhel-7-server-extras-rpms&#34;</span> <span style=color:#cd5555>\
</span></span></span><span style=display:flex><span><span style=color:#cd5555></span>    --enable=<span style=color:#cd5555>&#34;rhel-7-server-optional-rpms&#34;</span> <span style=color:#cd5555>\
</span></span></span><span style=display:flex><span><span style=color:#cd5555></span>    --enable=<span style=color:#cd5555>&#34;rhel-7-server-ose-3.0-rpms&#34;</span>
</span></span></code></pre></div><ul><li>On <em>all 3 hosts</em>: Install Prereqs</li></ul><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>yum -y remove <span style=color:#cd5555>\
</span></span></span><span style=display:flex><span><span style=color:#cd5555></span>  NetworkManager
</span></span><span style=display:flex><span><span style=color:#228b22># install reqs</span>
</span></span><span style=display:flex><span>yum -y install <span style=color:#cd5555>\
</span></span></span><span style=display:flex><span><span style=color:#cd5555></span>  python python-virtualenv openssh-clients gcc <span style=color:#cd5555>\
</span></span></span><span style=display:flex><span><span style=color:#cd5555></span>  wget git net-tools bind-utils iptables-services bridge-utils <span style=color:#cd5555>\
</span></span></span><span style=display:flex><span><span style=color:#cd5555></span>  docker
</span></span><span style=display:flex><span><span style=color:#228b22># install life enhancers</span>
</span></span><span style=display:flex><span>yum -y install <span style=color:#cd5555>\
</span></span></span><span style=display:flex><span><span style=color:#cd5555></span>  vim-enhanced deltarpm bash-completion tmux
</span></span><span style=display:flex><span>yum -y update
</span></span></code></pre></div><p>It may be helpful to keep journald logs around across reboots while we are still testing.</p><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir /var/log/journal
</span></span><span style=display:flex><span>systemctl restart systemd-journald
</span></span></code></pre></div><p>The following units may produce some interesting logs (<code>journalctl -f -u $unit</code>).</p><ul><li>openshift-master</li><li>openshift-node</li><li>openshift-sdn-master</li><li>openshift-sdn-node</li></ul><h1 id=configure-openshift>Configure OpenShift</h1><h2 id=configure-docker-storage-on-nodes>Configure Docker Storage on Nodes</h2><p>See <a href=https://docs.openshift.com/enterprise/3.0/admin_guide/install/prerequisites.html#configuring-docker-storage>Configure Docker Storage</a></p><ul><li>On <em>ose3-node1</em> and on <em>ose3-node2</em> create a LVM thin pool on the 2nd disk. This should be done before the installer playbook runs, and that is why we have to install docker by hand.</li></ul><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat <span style=color:#cd5555>&lt;&lt;EOF &gt; /etc/sysconfig/docker-storage-setup
</span></span></span><span style=display:flex><span><span style=color:#cd5555>DEVS=/dev/vdb
</span></span></span><span style=display:flex><span><span style=color:#cd5555>VG=docker-vg
</span></span></span><span style=display:flex><span><span style=color:#cd5555>EOF</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>docker-storage-setup
</span></span></code></pre></div><p>Example:</p><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>root@ose-node-01 ~]# cat &lt;&lt;EOF &gt; /etc/sysconfig/docker-storage-setup
</span></span><span style=display:flex><span>&gt; DEVS=/dev/vdb
</span></span><span style=display:flex><span>&gt; VG=docker-vg
</span></span><span style=display:flex><span>&gt; EOF
</span></span><span style=display:flex><span>[root@ose-node-01 ~]#
</span></span><span style=display:flex><span>[root@ose-node-01 ~]# docker-storage-setup
</span></span><span style=display:flex><span>Checking that no-one is using this disk right now ...
</span></span><span style=display:flex><span>OK
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Disk /dev/vdb: 104025 cylinders, 16 heads, 63 sectors/track
</span></span><span style=display:flex><span>sfdisk:  /dev/vdb: unrecognized partition table type
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Old situation:
</span></span><span style=display:flex><span>sfdisk: No partitions found
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>New situation:
</span></span><span style=display:flex><span>Units: sectors of 512 bytes, counting from 0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>   Device Boot    Start       End   #sectors  Id  System
</span></span><span style=display:flex><span>/dev/vdb1          2048 104857599  104855552  8e  Linux LVM
</span></span><span style=display:flex><span>/dev/vdb2             0         -          0   0  Empty
</span></span><span style=display:flex><span>/dev/vdb3             0         -          0   0  Empty
</span></span><span style=display:flex><span>/dev/vdb4             0         -          0   0  Empty
</span></span><span style=display:flex><span>Warning: partition 1 does not start at a cylinder boundary
</span></span><span style=display:flex><span>Warning: partition 1 does not end at a cylinder boundary
</span></span><span style=display:flex><span>Warning: no primary partition is marked bootable (active)
</span></span><span style=display:flex><span>This does not matter for LILO, but the DOS MBR will not boot this disk.
</span></span><span style=display:flex><span>Successfully wrote the new partition table
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Re-reading the partition table ...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>If you created or changed a DOS partition, /dev/foo7, say, then use dd(1)
</span></span><span style=display:flex><span>to zero the first 512 bytes:  dd if=/dev/zero of=/dev/foo7 bs=512 count=1
</span></span><span style=display:flex><span>(See fdisk(8).)
</span></span><span style=display:flex><span>  Physical volume &#34;/dev/vdb1&#34; successfully created
</span></span><span style=display:flex><span>  Volume group &#34;docker-vg&#34; successfully created
</span></span><span style=display:flex><span>  Rounding up size to full physical extent 52.00 MiB
</span></span><span style=display:flex><span>  Logical volume &#34;docker-poolmeta&#34; created.
</span></span><span style=display:flex><span>  Logical volume &#34;docker-pool&#34; created.
</span></span><span style=display:flex><span>  WARNING: Converting logical volume docker-vg/docker-pool and docker-vg/docker-poolmeta to pool&#39;s data and metadata volumes.
</span></span><span style=display:flex><span>  THIS WILL DESTROY CONTENT OF LOGICAL VOLUME (filesystem etc.)
</span></span><span style=display:flex><span>  Converted docker-vg/docker-pool to thin pool.
</span></span><span style=display:flex><span>  Logical volume &#34;docker-pool&#34; changed.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[root@ose-node-01 ~]# cat /etc/sysconfig/docker-storage
</span></span><span style=display:flex><span>DOCKER_STORAGE_OPTIONS=--storage-driver devicemapper --storage-opt dm.fs=xfs --storage-opt dm.thinpooldev=/dev/mapper/docker--vg-docker--pool
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[root@ose-node-01 ~]# pvs
</span></span><span style=display:flex><span>  PV         VG        Fmt  Attr PSize  PFree
</span></span><span style=display:flex><span>  /dev/vda2  rhel      lvm2 a--  29.51g 40.00m
</span></span><span style=display:flex><span>  /dev/vdb1  docker-vg lvm2 a--  50.00g 29.92g
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[root@ose-node-01 ~]# vgs
</span></span><span style=display:flex><span>  VG        #PV #LV #SN Attr   VSize  VFree
</span></span><span style=display:flex><span>  docker-vg   1   1   0 wz--n- 50.00g 29.92g
</span></span><span style=display:flex><span>  rhel        1   2   0 wz--n- 29.51g 40.00m
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[root@ose-node-01 ~]# lvs
</span></span><span style=display:flex><span>  LV          VG        Attr       LSize  Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span style=display:flex><span>  docker-pool docker-vg twi-a-t--- 19.98g             0.00   0.08
</span></span><span style=display:flex><span>  root        rhel      -wi-ao---- 26.47g
</span></span><span style=display:flex><span>  swap        rhel      -wi-ao----  3.00g
</span></span></code></pre></div><p>The docker-pool volume should be 60% of the available volume group and will grow to fill the volume group via LVM monitoring.</p><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>[root@ose-node-01 ~]# lvdisplay docker-vg/docker-pool
</span></span><span style=display:flex><span>  --- Logical volume ---
</span></span><span style=display:flex><span>  LV Name                docker-pool
</span></span><span style=display:flex><span>  VG Name                docker-vg
</span></span><span style=display:flex><span>  LV UUID                enMTwp-s9do-uKCi-3r9w-90bQ-Ht62-4civTW
</span></span><span style=display:flex><span>  LV Write Access        read/write
</span></span><span style=display:flex><span>  LV Creation host, time ose-node-01, 2015-11-15 21:23:09 -0800
</span></span><span style=display:flex><span>  LV Pool metadata       docker-pool_tmeta
</span></span><span style=display:flex><span>  LV Pool data           docker-pool_tdata
</span></span><span style=display:flex><span>  LV Status              available
</span></span><span style=display:flex><span>  # open                 0
</span></span><span style=display:flex><span>  LV Size                19.98 GiB
</span></span><span style=display:flex><span>  Allocated pool data    0.00%
</span></span><span style=display:flex><span>  Allocated metadata     0.08%
</span></span><span style=display:flex><span>  Current LE             5114
</span></span><span style=display:flex><span>  Segments               1
</span></span><span style=display:flex><span>  Allocation             inherit
</span></span><span style=display:flex><span>  Read ahead sectors     auto
</span></span><span style=display:flex><span>  - currently set to     8192
</span></span><span style=display:flex><span>  Block device           253:4
</span></span></code></pre></div><p><strong>TODO</strong></p><ul><li>Configure <a href=https://docs.openshift.com/enterprise/3.0/admin_guide/persistent_storage_nfs.html>persistent storage</a></li></ul><h2 id=allow-access-to-insecure-registries>Allow Access to Insecure Registries</h2><ul><li>Enable insecure docker registries</li></ul><p>The docs said to do this, but <a href=https://github.com/openshift/openshift-ansible/blob/master/roles/openshift_node/tasks/main.yml#L66>ansible does this during the install to follow</a>. <strong>Documentation bug to file?</strong></p><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>[root@ose3-node1 ~]<span style=color:#228b22># grep OPTIONS /etc/sysconfig/docker</span>
</span></span><span style=display:flex><span><span style=color:#00688b>OPTIONS</span>=<span style=color:#cd5555>&#39;--insecure-registry=172.30.0.0/16 --selinux-enabled&#39;</span>
</span></span></code></pre></div><p>Skip the above for the moment.</p><h1 id=perform-advanced-ansible-based-install>Perform Advanced Ansible-based Install</h1><p>Now proceed with the OpenShift <a href=https://docs.openshift.com/enterprise/3.1/install_config/install/advanced_install.html>advanced installation method</a>.</p><ul><li>Clone the installer</li></ul><pre tabindex=0><code>git clone https://github.com/openshift/openshift-ansible
</code></pre><ul><li>Install Ansible from EPEL</li></ul><pre tabindex=0><code>yum -y install https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
yum -y install ansible
</code></pre><p>Setup ssh on the master, such that the ansible installer can run in the next step.</p><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh-keygen
</span></span><span style=display:flex><span>cp -p .ssh/id_rsa.pub .ssh/authorized_keys
</span></span><span style=display:flex><span>chmod <span style=color:#b452cd>600</span> .ssh/authorized_keys
</span></span><span style=display:flex><span><span style=color:#8b008b;font-weight:700>for</span> h in <span style=color:#cd5555>`</span>seq -f <span style=color:#cd5555>&#39;ose-node-%02g&#39;</span> <span style=color:#b452cd>1</span> 3<span style=color:#cd5555>`</span>; <span style=color:#8b008b;font-weight:700>do</span>
</span></span><span style=display:flex><span>  ssh-copy-id <span style=color:#00688b>$h</span>
</span></span><span style=display:flex><span><span style=color:#8b008b;font-weight:700>done</span>
</span></span></code></pre></div><h2 id=create-ansible-inventory-file>Create Ansible Inventory File</h2><p>Based on the <a href=https://github.com/openshift/openshift-ansible/blob/master/inventory/byo/hosts.example>byo/inventory/hosts.example</a>
example inventory and advice <a href=https://docs.openshift.com/enterprise/3.1/install_config/install/advanced_install.html#configuring-ansible>here</a>,
we&rsquo;ll make our inventory own and place it in <code>/etc/ansible/hosts</code> on the master.</p><p>We&rsquo;ll have to identify values for use by the playbook such as our Portral Network default subdomain etc.</p><h2 id=install-openshift>Install Openshift</h2><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#228b22># run this twice to validate connectivity cache the ssh keys answer yes repeatedly</span>
</span></span><span style=display:flex><span>[root@ose-master-01 ~]<span style=color:#228b22># ansible all -m ping</span>
</span></span><span style=display:flex><span>[root@ose-master-01 ~]<span style=color:#228b22># ansible all -m ping</span>
</span></span><span style=display:flex><span>ose-node-02.example.com | success &gt;&gt; {
</span></span><span style=display:flex><span>    <span style=color:#cd5555>&#34;changed&#34;</span>: false,
</span></span><span style=display:flex><span>    <span style=color:#cd5555>&#34;ping&#34;</span>: <span style=color:#cd5555>&#34;pong&#34;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ose-master-01.example.com | success &gt;&gt; {
</span></span><span style=display:flex><span>    <span style=color:#cd5555>&#34;changed&#34;</span>: false,
</span></span><span style=display:flex><span>    <span style=color:#cd5555>&#34;ping&#34;</span>: <span style=color:#cd5555>&#34;pong&#34;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ose-node-01.example.com | success &gt;&gt; {
</span></span><span style=display:flex><span>    <span style=color:#cd5555>&#34;changed&#34;</span>: false,
</span></span><span style=display:flex><span>    <span style=color:#cd5555>&#34;ping&#34;</span>: <span style=color:#cd5555>&#34;pong&#34;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ose-node-03.example.com | success &gt;&gt; {
</span></span><span style=display:flex><span>    <span style=color:#cd5555>&#34;changed&#34;</span>: false,
</span></span><span style=display:flex><span>    <span style=color:#cd5555>&#34;ping&#34;</span>: <span style=color:#cd5555>&#34;pong&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>Run the <em>bring your own</em> playbook</li></ul><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ansible-playbook openshift-ansible/playbooks/byo/config.yml
</span></span></code></pre></div><p>Look around a big</p><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>[root@ose-master-01 ~]# oc get nodes
</span></span><span style=display:flex><span>NAME                      LABELS                                                              STATUS                     AGE
</span></span><span style=display:flex><span>ose-master-01.example.com   kubernetes.io/hostname=1.1.1.124,region=infra,zone=default     Ready,SchedulingDisabled   5m
</span></span><span style=display:flex><span>ose-node-01.example.com     kubernetes.io/hostname=1.1.1.94,region=primary,zone=default    Ready                      5m
</span></span><span style=display:flex><span>ose-node-02.example.com     kubernetes.io/hostname=1.1.1.123,region=primary,zone=default   Ready                      5m
</span></span><span style=display:flex><span>ose-node-03.example.com     kubernetes.io/hostname=1.1.1.187,region=primary,zone=default   Ready                      5m
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[root@ose-master-01 ~]# oc get endpoints
</span></span><span style=display:flex><span>NAME         ENDPOINTS             AGE
</span></span><span style=display:flex><span>kubernetes   1.1.1.124:8443   9m
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[root@ose-master-01 ~]# oc get namespaces
</span></span><span style=display:flex><span>NAME              LABELS    STATUS    AGE
</span></span><span style=display:flex><span>default           &lt;none&gt;    Active    9m
</span></span><span style=display:flex><span>openshift         &lt;none&gt;    Active    9m
</span></span><span style=display:flex><span>openshift-infra   &lt;none&gt;    Active    9m
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[root@ose-master-01 ~]# oc get services
</span></span><span style=display:flex><span>NAME         CLUSTER_IP    EXTERNAL_IP   PORT(S)   SELECTOR   AGE
</span></span><span style=display:flex><span>kubernetes   172.30.1.1   &lt;none&gt;        443/TCP   &lt;none&gt;     9m
</span></span></code></pre></div><h1 id=configure-openshift-1>Configure OpenShift</h1><p>See <a href=http://docs.openshift.com/enterprise/latest/admin_guide/overview.html>Admin Guide Overview</a></p><h2 id=create-a-docker-registry>Create a Docker Registry</h2><h1 id=todo-left-off-here>TODO LEFT OFF HERE</h1><ul><li><a href=https://docs.openshift.com/enterprise/3.1/install_config/install/docker_registry.html>Create a Docker Registry</a> on the master</li></ul><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>[root@ose-master-01 ~]# oadm registry \
</span></span><span style=display:flex><span>&gt;     --service-account=registry \
</span></span><span style=display:flex><span>&gt;     --config=/etc/openshift/master/admin.kubeconfig \
</span></span><span style=display:flex><span>&gt;     --credentials=/etc/openshift/master/openshift-registry.kubeconfig \
</span></span><span style=display:flex><span>&gt;     --images=&#39;registry.access.redhat.com/openshift3/ose-${component}:${version}&#39; \
</span></span><span style=display:flex><span>&gt;     --selector=&#39;region=infra&#39;
</span></span><span style=display:flex><span>deploymentconfigs/docker-registry
</span></span><span style=display:flex><span>services/docker-registry
</span></span><span style=display:flex><span># this following line would make the master /mnt/registry available in the registry container at /registery
</span></span><span style=display:flex><span>#    --mount-host=/mnt/registry
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># Use enterprise NFS storage backend
</span></span><span style=display:flex><span>$ oc volume deploymentconfigs/docker-registry \
</span></span><span style=display:flex><span>     --add --overwrite --name=registry-storage --mount-path=/registry \
</span></span><span style=display:flex><span>     --source=&#39;{&#34;nfs&#34;: { &#34;server&#34;: &#34;big_nfs_server_fqdn&#34;, &#34;path&#34;: &#34;/path/to/export&#34;}}&#39;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[root@ose3-master ~]# oc get pods
</span></span><span style=display:flex><span>NAME                      READY     REASON    RESTARTS   AGE
</span></span><span style=display:flex><span>docker-registry-1-g348m   1/1       Running   0          2m
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[root@ose3-master ~]# oc get rc
</span></span><span style=display:flex><span>CONTROLLER          CONTAINER(S)   IMAGE(S)                                                             SELECTOR                                                                                REPLICAS
</span></span><span style=display:flex><span>docker-registry-1   registry       registry.access.redhat.com/openshift3/ose-docker-registry:v3.0.0.1   deployment=docker-registry-1,deploymentconfig=docker-registry,docker-registry=default   1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[root@ose3-master ~]# oc logs docker-registry-1-g348m
</span></span><span style=display:flex><span>time=&#34;2015-07-24T19:11:46-04:00&#34; level=info msg=&#34;version=v2.0.0+unknown&#34;
</span></span><span style=display:flex><span>time=&#34;2015-07-24T19:11:46-04:00&#34; level=info msg=&#34;redis not configured&#34; instance.id=17d8ba37-16c4-4bc9-9dff-3ce4337c16d8
</span></span><span style=display:flex><span>time=&#34;2015-07-24T19:11:46-04:00&#34; level=info msg=&#34;using inmemory layerinfo cache&#34; instance.id=17d8ba37-16c4-4bc9-9dff-3ce4337c16d8
</span></span><span style=display:flex><span>time=&#34;2015-07-24T19:11:46-04:00&#34; level=info msg=&#34;Using OpenShift Auth handler&#34;
</span></span><span style=display:flex><span>time=&#34;2015-07-24T19:11:46-04:00&#34; level=info msg=&#34;listening on :5000&#34; instance.id=17d8ba37-16c4-4bc9-9dff-3ce4337c16d8
</span></span><span style=display:flex><span>time=&#34;2015-07-24T19:11:46-04:00&#34; level=info msg=&#34;Starting upload purge in 18m0s&#34; instance.id=17d8ba37-16c4-4bc9-9dff-3ce4337c16d8
</span></span><span style=display:flex><span>time=&#34;2015-07-24T19:29:46-04:00&#34; level=info msg=&#34;PurgeUploads starting: olderThan=2015-07-17 19:29:46.86046945 -0400 EDT, actuallyDelete=true&#34;
</span></span><span style=display:flex><span>time=&#34;2015-07-24T19:29:46-04:00&#34; level=info msg=Base.List trace.duration=41.839µs trace.file=&#34;/builddir/build/BUILD/openshift-git-4.eab4c86/_thirdpartyhacks/src/github.com/docker/distribution/registry/storage/driver/base/base.go&#34; trace.func=&#34;github.com/docker/distribution/registry/storage/driver/base.(*Base).List&#34; trace.id=8c3d1799-e480-4dc3-9d2d-72c6f728d829 trace.line=123
</span></span><span style=display:flex><span>time=&#34;2015-07-24T19:29:46-04:00&#34; level=info msg=&#34;Purge uploads finished.  Num deleted=0, num errors=1&#34;
</span></span><span style=display:flex><span>time=&#34;2015-07-24T19:29:46-04:00&#34; level=info msg=&#34;Starting upload purge in 24h0m0s&#34; instance.id=17d8ba37-16c4-4bc9-9dff-3ce4337c16d8
</span></span></code></pre></div><ul><li>TODO (maybe)</li></ul><p>Create a new service account in the default project for the registry to run as. The following example creates a service account named registry:</p><pre tabindex=0><code>```text
[root@master ~]# echo \
&#39;{&#34;kind&#34;:&#34;ServiceAccount&#34;,&#34;apiVersion&#34;:&#34;v1&#34;,&#34;metadata&#34;:{&#34;name&#34;:&#34;registry&#34;}}&#39; \
  | oc create ­n default ­f ­
[root@master ~]# echo \
&#39;{&#34;kind&#34;:&#34;ServiceAccount&#34;,&#34;apiVersion&#34;:&#34;v1&#34;,&#34;metadata&#34;:{&#34;name&#34;:&#34;router&#34;}}&#39; \
  | oc create ­f ­
[root@master ~]# oc edit scc privileged
...
users:
­ system:serviceaccount:openshift­infra:build­controller
­ system:serviceaccount:default:registry
­ system:serviceaccount:default:router
</code></pre><h2 id=deploy-a-router>Deploy a router</h2><p>Now <a href=https://docs.openshift.com/enterprise/3.1/admin_guide/install/deploy_router.html>Deploy</a> a <a href=https://access.redhat.com/beta/documentation/en/openshift-enterprise-30-architecture/chapter-3-core-concepts#routes>Router</a> which is basically a haproxy instance, but it possible to use an external load balancer like an F5 .</p><ul><li>To see what the router would look like run:</li></ul><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>oadm router -o yaml <span style=color:#cd5555>\
</span></span></span><span style=display:flex><span><span style=color:#cd5555></span>    --credentials=<span style=color:#cd5555>&#39;/etc/openshift/master/openshift-router.kubeconfig&#39;</span> <span style=color:#cd5555>\
</span></span></span><span style=display:flex><span><span style=color:#cd5555></span>    --images=<span style=color:#cd5555>&#39;registry.access.redhat.com/openshift3/ose-${component}:${version}&#39;</span>
</span></span></code></pre></div><ul><li><em>On ose3-master</em> create a router and note the stats password.</li></ul><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>oadm router router1 --replicas=<span style=color:#b452cd>2</span> <span style=color:#cd5555>\
</span></span></span><span style=display:flex><span><span style=color:#cd5555></span>    --credentials=<span style=color:#cd5555>&#39;/etc/openshift/master/openshift-router.kubeconfig&#39;</span> <span style=color:#cd5555>\
</span></span></span><span style=display:flex><span><span style=color:#cd5555></span>    --images=<span style=color:#cd5555>&#39;registry.access.redhat.com/openshift3/ose-${component}:${version}&#39;</span>
</span></span><span style=display:flex><span>password <span style=color:#8b008b;font-weight:700>for</span> stats user admin has been <span style=color:#658b00>set</span> to noB000002X
</span></span><span style=display:flex><span>deploymentconfigs/router1
</span></span><span style=display:flex><span>services/router1
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>[root@ose3-master ~]# oc get pods
</span></span><span style=display:flex><span>NAME                      READY     REASON    RESTARTS   AGE
</span></span><span style=display:flex><span>docker-registry-1-udgkk   1/1       Running   0          45m
</span></span><span style=display:flex><span>router1-1-miamx           1/1       Running   0          19m
</span></span><span style=display:flex><span>router1-1-y1wk8           1/1       Running   0          20m
</span></span></code></pre></div><h1 id=first-steps>First Steps</h1><h2 id=create-examples>Create Examples</h2><p><a href=https://docs.openshift.com/enterprise/3.0/admin_guide/install/first_steps.html>First Steps</a> doc describes how to import the following, but the playbook will already do this for you.</p><ul><li>Create the core set of image streams, which use RHEL 7 based images:</li></ul><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>oc create -f <span style=color:#cd5555>\
</span></span></span><span style=display:flex><span><span style=color:#cd5555></span>    /usr/share/openshift/examples/image-streams/image-streams-rhel7.json <span style=color:#cd5555>\
</span></span></span><span style=display:flex><span><span style=color:#cd5555></span>    -n openshift
</span></span></code></pre></div><ul><li>Create Database Service Templates</li></ul><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>oc create -f <span style=color:#cd5555>\
</span></span></span><span style=display:flex><span><span style=color:#cd5555></span>    /usr/share/openshift/examples/db-templates -n openshift
</span></span></code></pre></div><ul><li>Create Quick Start Templates</li></ul><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>oc create -f <span style=color:#cd5555>\
</span></span></span><span style=display:flex><span><span style=color:#cd5555></span>    /usr/share/openshift/examples/quickstart-templates -n openshift
</span></span></code></pre></div><h2 id=configure-authentication-bypass>Configure Authentication Bypass</h2><ul><li><a href=https://docs.openshift.com/enterprise/3.1/admin_guide/configuring_authentication.html>Auth</a></li></ul><p>By default <code>/etc/openshift/master/master-config.yaml</code> denys all. Let&rsquo;s allow any username to work regardless of password.
Set this value in the ansible hosts file before installation to allow logins for any user regardless of password. Obviously, this is only appropriate for a testing environment.</p><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span># Allow all auth
</span></span><span style=display:flex><span>openshift_master_identity_providers=[{&#39;name&#39;: &#39;allow_all&#39;, &#39;login&#39;: &#39;true&#39;, &#39;challenge&#39;: &#39;true&#39;, &#39;kind&#39;: &#39;AllowAllPasswordIdentityProvider&#39;}]
</span></span></code></pre></div><ul><li>Now restart the server on ose3-master.</li></ul><div class=highlight><pre tabindex=0 style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>systemctl restart openshift-master
</span></span></code></pre></div><h1 id=grok-some-openshift-concepts>Grok Some OpenShift Concepts</h1><p><em>Users</em></p><p>The <code>oc whoami</code> command will tell you what user you are. The root user is the <code>cluster-admin</code> with super ports.</p><p><em>Projects</em></p><p>Projects are essentially name spaces and define resources and quoatas for teams.</p><p>:changes</p><h1 id=test-the-developer-ui>Test the Developer UI</h1><h2 id=create-project>Create Project</h2><ul><li><a href=https://ose3-master.example.com:8443>Login to Console</a></li><li>Create a project called <em>eval</em></li><li>Create a <em>cakephp example app</em></li></ul><p><a href=https://docs.openshift.com/enterprise/3.1/admin_guide/install/first_steps.html#what-s-next>What’s Next?</a></p><p>With these artifacts created, developers can now log into the web console and follow the flow for creating from a template. Any of the database or application templates can be selected to create a running database service or application in the current project. Note that some of the application templates define their own database services as well.</p><p>The example applications are all built out of GitHub repositories which are referenced in the templates by default, as seen in the SOURCE_REPOSITORY_URL parameter value. Those repositories can be forked, and the fork can be provided as the SOURCE_REPOSITORY_URL parameter value when creating from the templates. This allows developers to experiment with creating their own applications.</p><p>You can direct your developers to the Using the QuickStart Templates section in the Developer Guide for these instructions.</p><ul><li><a href=https://ose3-master.example.com:8443>https://ose3-master.example.com:8443</a></li></ul><h2 id=client-access>CLient Access</h2><p>Download the client <a href="https://access.redhat.com/downloads/content/290/ver=3.0.0.0/rhel---7/3.0.2.0/x86_64/product-downloads">from redhat</a> the client</p></div><div id=comments><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//dlbewleygithubio.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div><div class=col-md-3><div class="panel panel-default sidebar-menu"><div class=panel-heading><h3 class=panel-title>Search</h3></div><div class=panel-body><form action=//google.com/search method=get accept-charset=utf-8 role=search><div class=input-group><input type=search name=q class=form-control placeholder=Search>
<input type=hidden name=sitesearch value=http://guifreelife.com/>
<span class=input-group-btn><button type=submit class="btn btn-template-main"><i class="fas fa-search"></i></button></span></div></form></div></div><div class="panel sidebar-menu"><div class=panel-heading><h3 class=panel-title>Tagged</h3></div><div class=panel-body><ul class=tag-cloud><li class=active><a href=/tags/openshift><i class="fas fa-tags"></i> openshift</a></li><li class=active><a href=/tags/OCP3><i class="fas fa-tags"></i> OCP3</a></li><li class=active><a href=/tags/RHEL><i class="fas fa-tags"></i> RHEL</a></li></ul></div></div><div class="panel sidebar-menu"><div class=panel-heading><h3 class=panel-title>TOC</h3></div><div class=panel-body><nav id=TableOfContents><ul><li><a href=#documentation>Documentation</a></li><li><a href=#installation>Installation</a><ul><li><a href=#prereqs>Prereqs</a><ul><li><a href=#vms>VMs</a></li></ul></li><li><a href=#storage>Storage</a></li><li><a href=#networks>Networks</a></li><li><a href=#dns>DNS</a></li></ul></li><li><a href=#vm-installation>VM Installation</a><ul><li><a href=#setup-rhel-subs>Setup RHEL Subs</a></li></ul></li><li><a href=#configure-openshift>Configure OpenShift</a><ul><li><a href=#configure-docker-storage-on-nodes>Configure Docker Storage on Nodes</a></li><li><a href=#allow-access-to-insecure-registries>Allow Access to Insecure Registries</a></li></ul></li><li><a href=#perform-advanced-ansible-based-install>Perform Advanced Ansible-based Install</a><ul><li><a href=#create-ansible-inventory-file>Create Ansible Inventory File</a></li><li><a href=#install-openshift>Install Openshift</a></li></ul></li><li><a href=#configure-openshift-1>Configure OpenShift</a><ul><li><a href=#create-a-docker-registry>Create a Docker Registry</a></li></ul></li><li><a href=#todo-left-off-here>TODO LEFT OFF HERE</a><ul><li><a href=#deploy-a-router>Deploy a router</a></li></ul></li><li><a href=#first-steps>First Steps</a><ul><li><a href=#create-examples>Create Examples</a></li><li><a href=#configure-authentication-bypass>Configure Authentication Bypass</a></li></ul></li><li><a href=#grok-some-openshift-concepts>Grok Some OpenShift Concepts</a></li><li><a href=#test-the-developer-ui>Test the Developer UI</a><ul><li><a href=#create-project>Create Project</a></li><li><a href=#client-access>CLient Access</a></li></ul></li></ul></nav></div></div><div class="panel sidebar-menu"><div class=panel-heading><h3 class=panel-title>Tags</h3></div><div class=panel-body><ul class=tag-cloud><li><a href=/tags/AWS><i class="fas fa-tags"></i> AWS</a></li><li><a href=/tags/CDK><i class="fas fa-tags"></i> CDK</a></li><li><a href=/tags/OCP3><i class="fas fa-tags"></i> OCP3</a></li><li><a href=/tags/OCP4><i class="fas fa-tags"></i> OCP4</a></li><li><a href=/tags/RHACM><i class="fas fa-tags"></i> RHACM</a></li><li><a href=/tags/RHACS><i class="fas fa-tags"></i> RHACS</a></li><li><a href=/tags/RHEL><i class="fas fa-tags"></i> RHEL</a></li><li><a href=/tags/ansible><i class="fas fa-tags"></i> ansible</a></li><li><a href=/tags/automation><i class="fas fa-tags"></i> automation</a></li><li><a href=/tags/azure><i class="fas fa-tags"></i> azure</a></li><li><a href=/tags/debugging><i class="fas fa-tags"></i> debugging</a></li><li><a href=/tags/docker><i class="fas fa-tags"></i> docker</a></li><li><a href=/tags/draft><i class="fas fa-tags"></i> draft</a></li><li><a href=/tags/etcd><i class="fas fa-tags"></i> etcd</a></li><li><a href=/tags/git><i class="fas fa-tags"></i> git</a></li><li><a href=/tags/haproxy><i class="fas fa-tags"></i> haproxy</a></li><li><a href=/tags/heat><i class="fas fa-tags"></i> heat</a></li><li><a href=/tags/hybrid-cloud><i class="fas fa-tags"></i> hybrid-cloud</a></li><li><a href=/tags/install><i class="fas fa-tags"></i> install</a></li><li><a href=/tags/kubernetes><i class="fas fa-tags"></i> kubernetes</a></li><li><a href=/tags/mac><i class="fas fa-tags"></i> mac</a></li><li><a href=/tags/metrics><i class="fas fa-tags"></i> metrics</a></li><li><a href=/tags/migration><i class="fas fa-tags"></i> migration</a></li><li><a href=/tags/monitoring><i class="fas fa-tags"></i> monitoring</a></li><li><a href=/tags/networking><i class="fas fa-tags"></i> networking</a></li><li><a href=/tags/openshift><i class="fas fa-tags"></i> openshift</a></li><li><a href=/tags/openstack><i class="fas fa-tags"></i> openstack</a></li><li><a href=/tags/operators><i class="fas fa-tags"></i> operators</a></li><li><a href=/tags/prometheus><i class="fas fa-tags"></i> prometheus</a></li><li><a href=/tags/python><i class="fas fa-tags"></i> python</a></li><li><a href=/tags/router><i class="fas fa-tags"></i> router</a></li><li><a href=/tags/security><i class="fas fa-tags"></i> security</a></li><li><a href=/tags/ssl><i class="fas fa-tags"></i> ssl</a></li><li><a href=/tags/stackrox><i class="fas fa-tags"></i> stackrox</a></li><li><a href=/tags/storage><i class="fas fa-tags"></i> storage</a></li><li><a href=/tags/troubleshooting><i class="fas fa-tags"></i> troubleshooting</a></li><li><a href=/tags/upgrade><i class="fas fa-tags"></i> upgrade</a></li><li><a href=/tags/vagrant><i class="fas fa-tags"></i> vagrant</a></li><li><a href=/tags/virtualization><i class="fas fa-tags"></i> virtualization</a></li><li><a href=/tags/webinar><i class="fas fa-tags"></i> webinar</a></li><li><a href=/tags/windows><i class="fas fa-tags"></i> windows</a></li><li><a href=/tags/zabbix><i class="fas fa-tags"></i> zabbix</a></li><li><a href=/tags/zimbra><i class="fas fa-tags"></i> zimbra</a></li></ul></div></div></div></div></div></div><footer id=footer><div class=container><div class="col-md-4 col-sm-6"><h4>Share</h4><i class="fab fa-2x fa-twitter" title="Share this on Twitter" onclick='window.open("http://twitter.com/home?status=http://guifreelife.com/blog/2015/07/28/Testing-OpenShift-Enterprise-V3/")'></i>
<i class="fab fa-2x fa-facebook" title="Share this on Facebook" onclick='window.open("http://www.facebook.com/share.php?u=http://guifreelife.com/blog/2015/07/28/Testing-OpenShift-Enterprise-V3/")'></i>
<i class="fab fa-2x fa-linkedin" title="Share this on Linkedin" onclick='window.open("https://www.linkedin.com/shareArticle?mini=true&url=http://guifreelife.com/blog/2015/07/28/Testing-OpenShift-Enterprise-V3/&title=&summary=&source=")'></i>
<i class="fab fa-2x fa-google-plus" title="Share this on Google Currents" onclick='window.open("https://plus.google.com/share?url=http://guifreelife.com/blog/2015/07/28/Testing-OpenShift-Enterprise-V3/")'></i>
<i class="fa fa-2x fa-envelope" title="Share this through Email" onclick='window.open("mailto:?&body=http://guifreelife.com/blog/2015/07/28/Testing-OpenShift-Enterprise-V3/")'></i><h4>About us</h4><p>GUI Free Life is the personal, technical blog of Dale Bewley. Comments and opinions are my own and not that of my employers.</p><hr class="hidden-md hidden-lg hidden-sm"></div><div class="col-md-4 col-sm-6"><h4>Recent posts</h4><div class=blog-entries><div class="item same-height-row clearfix"><div class="image same-height-always"><a href=http://guifreelife.com/blog/2024/03/11/Placing-Open-Cluster-Management-Policies-on-Kubernetes/><img src=/images/DALL%c2%b7E%202024-01-30%2014.28.24%20-%20A%20whimsical%20scene%20featuring%20a%20traffic%20cop%20standing%20on%20a%20cloud,%20energetically%20directing%20a%20chaotic%20stream%20of%20various%20floating%20documents%20-%20papers,%20folder.png class=img-responsive alt="Using Placements to Apply Open Cluster Management Policies to Kubernetes Clusters"></a></div><div class="name same-height-always"><h5><a href=http://guifreelife.com/blog/2024/03/11/Placing-Open-Cluster-Management-Policies-on-Kubernetes/>Using Placements to Apply Open Cluster Management Policies to Kubernetes Clusters</a></h5></div></div><div class="item same-height-row clearfix"><div class="image same-height-always"><a href=http://guifreelife.com/blog/2023/09/22/Storing-OpenShift-Credentials-with-1Password/><img src=/img/banners/mushroom-moss.jpg class=img-responsive alt="Storing OpenShift Credentials with 1Password"></a></div><div class="name same-height-always"><h5><a href=http://guifreelife.com/blog/2023/09/22/Storing-OpenShift-Credentials-with-1Password/>Storing OpenShift Credentials with 1Password</a></h5></div></div><div class="item same-height-row clearfix"><div class="image same-height-always"><a href=http://guifreelife.com/blog/2023/04/06/Accessing-Ceph-CLI-with-OpenShift-Data-Foundation/><img src=/images/uncovered-bumper.png class=img-responsive alt="Accessing the Ceph CLI with OpenShift Data Foundation"></a></div><div class="name same-height-always"><h5><a href=http://guifreelife.com/blog/2023/04/06/Accessing-Ceph-CLI-with-OpenShift-Data-Foundation/>Accessing the Ceph CLI with OpenShift Data Foundation</a></h5></div></div></div><hr class="hidden-md hidden-lg"></div><div class="col-md-4 col-sm-6"><h4>Contact</h4><p class=text-uppercase><strong>Dale Bewley</strong><br>Oakland<br>California<br><strong>USA</strong></p><a href=/contact class="btn btn-small btn-template-main">Go to contact page</a><hr class="hidden-md hidden-lg hidden-sm"></div></div></footer><div id=copyright><div class=container><div class=col-md-12><p class=pull-left>Copyright (c) 2021, Dale Bewley; all rights reserved.</p><p class=pull-right>Template by <a href=https://bootstrapious.com/p/universal-business-e-commerce-template>Bootstrapious</a>.
Ported to Hugo by <a href=https://github.com/devcows/hugo-universal-theme>DevCows</a>.</p></div></div></div></div><script async src="https://www.googletagmanager.com/gtag/js?id=G-39TSW9349X"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-39TSW9349X",{anonymize_ip:!1})}</script><script src=//code.jquery.com/jquery-3.1.1.min.js integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin=anonymous></script>
<script src=//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script>
<script src=//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js></script>
<script src=//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js></script>
<script src=//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js></script>
<script src=//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js></script>
<script src="//maps.googleapis.com/maps/api/js?key=AIzaSyDacpwSIXi6lk2fS2wzZOSoh7iHm_ZP3UE&v=3.exp"></script>
<script src=/js/hpneo.gmaps.js></script>
<script src=/js/gmaps.init.js></script>
<script src=/js/front.js></script>
<script src=/js/owl.carousel.min.js></script></body></html>